<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSM Command Centre</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .header {
            background: #34495e;
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .main-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1.5rem;
            padding: 2rem;
            max-width: 1800px;
            margin: 0 auto;
        }

        .card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e1e8ed;
        }

        .card h2 {
            color: #2c3e50;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #3498db;
            padding-bottom: 0.5rem;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .two-thirds {
            grid-column: span 2;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .metric-row:last-child {
            border-bottom: none;
        }

        .metric-label {
            font-size: 0.875rem;
            color: #7f8c8d;
        }

        .metric-value {
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .metric-change {
            font-size: 0.875rem;
            font-weight: 500;
        }

        .metric-change.positive {
            color: #27ae60;
        }

        .metric-change.negative {
            color: #e74c3c;
        }

        .pipeline-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            border-left: 4px solid;
        }

        .pipeline-item.payroll {
            border-left-color: #3498db;
        }

        .pipeline-item.talent-acquisition {
            border-left-color: #e74c3c;
        }

        .pipeline-item.talent-management {
            border-left-color: #f39c12;
        }

        .pipeline-item.employee-experience {
            border-left-color: #9b59b6;
        }

        .pipeline-info h4 {
            font-size: 0.9rem;
            color: #2c3e50;
            margin-bottom: 0.25rem;
        }

        .pipeline-info p {
            font-size: 0.8rem;
            color: #7f8c8d;
        }

        .pipeline-value {
            text-align: right;
        }

        .pipeline-value .amount {
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .pipeline-value .confidence {
            font-size: 0.8rem;
            color: #7f8c8d;
        }

        .signal-overview {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .signal-summary {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 6px;
            text-align: center;
        }

        .signal-summary h4 {
            font-size: 0.8rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .signal-score-avg {
            font-size: 1.25rem;
            font-weight: 600;
            color: #3498db;
        }

        .signal-trend {
            font-size: 0.7rem;
            color: #7f8c8d;
            margin-top: 0.25rem;
        }

        .top-opps-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            align-items: center;
        }

        .rep-select {
            padding: 0.5rem;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            font-size: 0.875rem;
            flex: 1;
        }

        .opportunity-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            border-left: 4px solid #3498db;
        }

        .opportunity-info h4 {
            font-size: 0.875rem;
            color: #2c3e50;
            margin-bottom: 0.25rem;
        }

        .opportunity-info p {
            font-size: 0.75rem;
            color: #7f8c8d;
        }

        .opportunity-value {
            text-align: right;
        }

        .opportunity-value .score {
            font-size: 1rem;
            font-weight: 600;
            color: #27ae60;
        }

        .opportunity-value .amount {
            font-size: 0.8rem;
            color: #7f8c8d;
        }

        .team-table {
            width: 100%;
            border-collapse: collapse;
        }

        .team-table th,
        .team-table td {
            padding: 0.5rem;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
            font-size: 0.75rem;
        }

        .team-table th:first-child,
        .team-table td:first-child {
            text-align: left;
        }

        .team-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .status-badge {
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 500;
            color: white;
        }

        .status-on-track { background: #27ae60; }
        .status-at-risk { background: #f39c12; }
        .status-needs-attention { background: #e74c3c; }

        .coaching-alert {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .coaching-alert h4 {
            color: #856404;
            font-size: 0.8rem;
            margin-bottom: 0.25rem;
        }

        .coaching-alert p {
            color: #856404;
            font-size: 0.75rem;
        }

        .alert-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 4px;
            margin-bottom: 0.5rem;
        }

        .alert-icon {
            font-size: 1rem;
        }

        .alert-content h4 {
            font-size: 0.8rem;
            color: #2c3e50;
            margin-bottom: 0.25rem;
        }

        .alert-content p {
            font-size: 0.75rem;
            color: #7f8c8d;
        }

        .conversion-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .conversion-item:last-child {
            border-bottom: none;
        }

        .conversion-rep {
            font-size: 0.875rem;
            color: #2c3e50;
        }

        .conversion-rate {
            font-size: 0.875rem;
            font-weight: 600;
            color: #27ae60;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéØ SSM Command Centre</h1>
        <div class="user-info">
            <span>Welcome, Manager Thompson</span>
            <div style="width: 32px; height: 32px; background: #3498db; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">MT</div>
        </div>
    </div>

    <div class="main-container">
        <!-- Performance Section -->
        <div class="card">
            <h2>üìà Performance</h2>
            <div class="metric-row">
                <div class="metric-label">Team Quota</div>
                <div class="metric-value">‚Ç¨3.0M</div>
            </div>
            <div class="metric-row">
                <div class="metric-label">Team Actual</div>
                <div class="metric-value">‚Ç¨2.55M</div>
            </div>
            <div class="metric-row">
                <div class="metric-label">% to Quota</div>
                <div>
                    <span class="metric-value">85%</span>
                    <span class="metric-change positive">+8% vs Q3</span>
                </div>
            </div>
            <div class="metric-row">
                <div class="metric-label">Avg Deal Size</div>
                <div>
                    <span class="metric-value">‚Ç¨47K</span>
                    <span class="metric-change positive">+8% vs Q3</span>
                </div>
            </div>
            <div class="metric-row">
                <div class="metric-label">Win Rate</div>
                <div>
                    <span class="metric-value">76%</span>
                    <span class="metric-change positive">+5% vs Q3</span>
                </div>
            </div>
            <div class="metric-row">
                <div class="metric-label">Time to Close</div>
                <div>
                    <span class="metric-value">67 days</span>
                    <span class="metric-change negative">+3 vs Q3</span>
                </div>
            </div>
        </div>

        <!-- Team Performance -->
        <div class="card">
            <h2>üë• Team Performance</h2>
            <table class="team-table">
                <thead>
                    <tr>
                        <th>SSM</th>
                        <th>Quota</th>
                        <th>Actual</th>
                        <th>% to Quota</th>
                        <th>Open Pipeline</th>
                        <th>Forecast %</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Sarah Johnson</td>
                        <td>‚Ç¨600K</td>
                        <td>‚Ç¨630K</td>
                        <td>105%</td>
                        <td>‚Ç¨180K</td>
                        <td>135%</td>
                        <td><span class="status-badge status-on-track">Exceed</span></td>
                    </tr>
                    <tr>
                        <td>Lisa Rodriguez</td>
                        <td>‚Ç¨600K</td>
                        <td>‚Ç¨540K</td>
                        <td>90%</td>
                        <td>‚Ç¨210K</td>
                        <td>125%</td>
                        <td><span class="status-badge status-on-track">Exceed</span></td>
                    </tr>
                    <tr>
                        <td>Emma Park</td>
                        <td>‚Ç¨600K</td>
                        <td>‚Ç¨510K</td>
                        <td>85%</td>
                        <td>‚Ç¨150K</td>
                        <td>110%</td>
                        <td><span class="status-badge status-on-track">Track</span></td>
                    </tr>
                    <tr>
                        <td>Marcus Chen</td>
                        <td>‚Ç¨600K</td>
                        <td>‚Ç¨480K</td>
                        <td>80%</td>
                        <td>‚Ç¨90K</td>
                        <td>95%</td>
                        <td><span class="status-badge status-at-risk">Risk</span></td>
                    </tr>
                    <tr>
                        <td>David Kumar</td>
                        <td>‚Ç¨600K</td>
                        <td>‚Ç¨390K</td>
                        <td>65%</td>
                        <td>‚Ç¨120K</td>
                        <td>85%</td>
                        <td><span class="status-badge status-needs-attention">Alert</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Pipeline Section -->
        <div class="card">
            <h2>üîÆ Open Pipeline</h2>
            <div class="metric-row">
                <div class="metric-label">Total Open Pipeline</div>
                <div class="metric-value">‚Ç¨750K</div>
            </div>
            <div class="metric-row">
                <div class="metric-label">Expected to Close This Quarter</div>
                <div>
                    <span class="metric-value">‚Ç¨420K</span>
                    <span class="metric-change positive">+18% vs Q4</span>
                </div>
            </div>
            <div class="metric-row">
                <div class="metric-label">Forecast Confidence</div>
                <div class="metric-value">76%</div>
            </div>
            <div class="metric-row">
                <div class="metric-label">Time to Qualify</div>
                <div>
                    <span class="metric-value">67 days</span>
                    <span class="metric-change negative">+3 vs Q3</span>
                </div>
            </div>
        </div>

        <!-- Pipeline by Category -->
        <div class="card full-width">
            <h2>üìä Open Pipeline by Category</h2>
            <div class="pipeline-item payroll">
                <div class="pipeline-info">
                    <h4>Payroll</h4>
                    <p>8 opps ‚Ä¢ ‚Ç¨28K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨220K</div>
                    <div class="confidence">82% confidence</div>
                </div>
            </div>
            <div class="pipeline-item talent-acquisition">
                <div class="pipeline-info">
                    <h4>Talent Acquisition</h4>
                    <p>12 opps ‚Ä¢ ‚Ç¨22K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨265K</div>
                    <div class="confidence">78% confidence</div>
                </div>
            </div>
            <div class="pipeline-item talent-management">
                <div class="pipeline-info">
                    <h4>Talent Management</h4>
                    <p>6 opps ‚Ä¢ ‚Ç¨25K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨150K</div>
                    <div class="confidence">71% confidence</div>
                </div>
            </div>
            <div class="pipeline-item employee-experience">
                <div class="pipeline-info">
                    <h4>Employee Experience</h4>
                    <p>9 opps ‚Ä¢ ‚Ç¨13K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨115K</div>
                    <div class="confidence">69% confidence</div>
                </div>
            </div>
        </div>

        <!-- Potential Section Header -->
        <div class="card full-width" style="background: #e8f4fd; border-left: 4px solid #3498db;">
            <h2 style="color: #2c3e50; border-bottom: none; margin-bottom: 0.5rem;">üéØ Potential</h2>
            <p style="color: #7f8c8d; margin: 0; font-size: 0.875rem;">Accounts with no open opportunity, but with potential value identified by the Signal Matrix</p>
        </div>

        <!-- Signal Matrix Team Overview -->
        <div class="card">
            <h2>üîç Signal Matrix - Team Overview</h2>
            <div class="signal-overview">
                <div class="signal-summary">
                    <h4>Account Health</h4>
                    <div class="signal-score-avg" id="teamAccountScore">78</div>
                    <div class="signal-trend">+3 vs last month</div>
                </div>
                <div class="signal-summary">
                    <h4>Contact Intent</h4>
                    <div class="signal-score-avg" id="teamContactScore">72</div>
                    <div class="signal-trend">+5 vs last month</div>
                </div>
                <div class="signal-summary">
                    <h4>Growth Capacity</h4>
                    <div class="signal-score-avg" id="teamGrowthScore">69</div>
                    <div class="signal-trend">-2 vs last month</div>
                </div>
                <div class="signal-summary">
                    <h4>Timing & Product Fit</h4>
                    <div class="signal-score-avg" id="teamTimingScore">74</div>
                    <div class="signal-trend">+1 vs last month</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 1rem;">
                <div style="font-size: 0.875rem; color: #7f8c8d; margin-bottom: 0.5rem;">
                    Signal Matrix Summary: <span id="highPotentialCount">12</span> High Potential Accounts
                </div>
                <div style="font-size: 0.875rem; color: #2c3e50; font-weight: 600; margin-bottom: 0.5rem;">
                    ‚Ç¨<span id="potentialPipelineValue">485</span>K Potential Pipeline Value
                </div>
            </div>
        </div>

        <!-- Potential Pipeline by Category -->
        <div class="card">
            <h2>üéØ Potential Pipeline by Category</h2>
            <div class="pipeline-item payroll">
                <div class="pipeline-info">
                    <h4>Payroll</h4>
                    <p><span id="payrollPotentialCount">18</span> potential ‚Ä¢ ‚Ç¨7K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨<span id="payrollPotentialValue">125</span>K</div>
                    <div class="confidence">High signal</div>
                </div>
            </div>
            <div class="pipeline-item talent-acquisition">
                <div class="pipeline-info">
                    <h4>Talent Acquisition</h4>
                    <p><span id="talentAcquisitionPotentialCount">25</span> potential ‚Ä¢ ‚Ç¨5K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨<span id="talentAcquisitionPotentialValue">140</span>K</div>
                    <div class="confidence">High signal</div>
                </div>
            </div>
            <div class="pipeline-item talent-management">
                <div class="pipeline-info">
                    <h4>Talent Management</h4>
                    <p><span id="talentManagementPotentialCount">22</span> potential ‚Ä¢ ‚Ç¨4K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨<span id="talentManagementPotentialValue">110</span>K</div>
                    <div class="confidence">Medium signal</div>
                </div>
            </div>
            <div class="pipeline-item employee-experience">
                <div class="pipeline-info">
                    <h4>Employee Experience</h4>
                    <p><span id="employeeExperiencePotentialCount">24</span> potential ‚Ä¢ ‚Ç¨4K avg</p>
                </div>
                <div class="pipeline-value">
                    <div class="amount">‚Ç¨<span id="employeeExperiencePotentialValue">110</span>K</div>
                    <div class="confidence">Medium signal</div>
                </div>
            </div>
        </div>

        <!-- Potential Expansion Accounts & Opportunities -->
        <div class="card">
            <h2>üî• Potential Expansion Accounts & Opportunities</h2>
            <div class="top-opps-controls">
                <label style="font-size: 0.875rem; color: #495057;">Filter by SSM:</label>
                <select class="rep-select" id="repSelect" onchange="filterOpportunities()">
                    <option value="all">All SSMs</option>
                    <option value="sarah">Sarah Johnson</option>
                    <option value="lisa">Lisa Rodriguez</option>
                    <option value="emma">Emma Park</option>
                    <option value="marcus">Marcus Chen</option>
                    <option value="david">David Kumar</option>
                </select>
            </div>
            <div id="opportunitiesList">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- Signal-Driven Coaching -->
        <div class="card">
            <h2>üéØ Signal-Driven Coaching</h2>
            <div id="coachingAlerts">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- Team Capacity -->
        <div class="card">
            <h2>‚öñÔ∏è Team Capacity</h2>
            <table class="team-table">
                <thead>
                    <tr>
                        <th>SSM</th>
                        <th>High Potential Accounts</th>
                    </tr>
                </thead>
                <tbody id="teamCapacityTable">
                    <!-- Will be populated by JavaScript -->
                </tbody>
            </table>
            <div style="margin-top: 1rem; padding: 0.75rem; background: #e9ecef; border-radius: 4px; text-align: center;">
                <div style="font-size: 0.875rem; color: #495057;">
                    <strong>Capacity Analysis:</strong> <span id="capacityAnalysis">Calculating capacity distribution...</span>
                </div>
            </div>
        </div>

        <!-- Recent Signal Alerts -->
        <div class="card">
            <h2>üö® Recent Signal Alerts</h2>
            <div id="recentAlerts">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- Conversion Rates -->
        <div class="card">
            <h2>üìä Conversion Rates</h2>
            <div style="margin-bottom: 1rem;">
                <div style="font-size: 0.875rem; color: #7f8c8d; margin-bottom: 0.5rem;">
                    High Potential Account to Open Opportunity Conversion Rates:
                </div>
                <div id="conversionRates">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            <div style="padding: 0.75rem; background: #f8f9fa; border-radius: 4px;">
                <div style="font-size: 0.875rem; color: #495057;">
                    <strong>Team Average:</strong> <span id="teamConversionRate">77%</span> conversion rate from signal-identified high potential accounts
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock data for team accounts using updated 14-signal model - 15 accounts total
        const teamAccounts = [
            // Sarah Johnson's accounts (6 accounts - highest capacity)
            {
                name: "TechCorp Solutions",
                ssm: "Sarah Johnson",
                industry: "Technology",
                employees: 450,
                signals: {
                    account: { licenseUtilization: 89, supportTicketVolume: 2, userLoginFrequency: 94, trainingCompletion: 78 },
                    contact: { communicationEngagement: 85, demoRequests: 3, contentEngagement: 76, featureRequests: 2 },
                    growth: { newUsersAdded: 18, hiringActivity: 15, fundingNews: 85, leadershipChanges: 75 },
                    timing: { renewalWindow: 90, usageMaturity: 85 }
                },
                pipelineValue: 45000,
                recommendedProduct: "Conversations ‚Äì Standard"
            },
            {
                name: "Innovate Labs",
                ssm: "Sarah Johnson",
                industry: "Technology",
                employees: 380,
                signals: {
                    account: { licenseUtilization: 91, supportTicketVolume: 1, userLoginFrequency: 89, trainingCompletion: 82 },
                    contact: { communicationEngagement: 79, demoRequests: 2, contentEngagement: 84, featureRequests: 3 },
                    growth: { newUsersAdded: 22, hiringActivity: 25, fundingNews: 85, leadershipChanges: 80 },
                    timing: { renewalWindow: 88, usageMaturity: 87 }
                },
                pipelineValue: 52000,
                recommendedProduct: "Recruiting - Large"
            },
            {
                name: "Tech Pioneers",
                ssm: "Sarah Johnson",
                industry: "Technology",
                employees: 287,
                signals: {
                    account: { licenseUtilization: 86, supportTicketVolume: 2, userLoginFrequency: 91, trainingCompletion: 84 },
                    contact: { communicationEngagement: 87, demoRequests: 2, contentEngagement: 89, featureRequests: 3 },
                    growth: { newUsersAdded: 16, hiringActivity: 19, fundingNews: 80, leadershipChanges: 75 },
                    timing: { renewalWindow: 89, usageMaturity: 86 }
                },
                pipelineValue: 41000,
                recommendedProduct: "Conversations ‚Äì Premium"
            },
            {
                name: "FinTech Forward",
                ssm: "Sarah Johnson",
                industry: "Fintech",
                employees: 156,
                signals: {
                    account: { licenseUtilization: 81, supportTicketVolume: 2, userLoginFrequency: 88, trainingCompletion: 79 },
                    contact: { communicationEngagement: 84, demoRequests: 3, contentEngagement: 78, featureRequests: 2 },
                    growth: { newUsersAdded: 19, hiringActivity: 22, fundingNews: 90, leadershipChanges: 85 },
                    timing: { renewalWindow: 85, usageMaturity: 83 }
                },
                pipelineValue: 38000,
                recommendedProduct: "Compensation Management"
            },
            {
                name: "Strategy Consultants",
                ssm: "Sarah Johnson",
                industry: "Consulting",
                employees: 142,
                signals: {
                    account: { licenseUtilization: 77, supportTicketVolume: 4, userLoginFrequency: 83, trainingCompletion: 72 },
                    contact: { communicationEngagement: 81, demoRequests: 2, contentEngagement: 85, featureRequests: 2 },
                    growth: { newUsersAdded: 12, hiringActivity: 16, fundingNews: 70, leadershipChanges: 80 },
                    timing: { renewalWindow: 81, usageMaturity: 78 }
                },
                pipelineValue: 29000,
                recommendedProduct: "Recruiting - Medium"
            },
            {
                name: "Financial Services Co",
                ssm: "Sarah Johnson",
                industry: "Fintech",
                employees: 234,
                signals: {
                    account: { licenseUtilization: 74, supportTicketVolume: 5, userLoginFrequency: 80, trainingCompletion: 71 },
                    contact: { communicationEngagement: 73, demoRequests: 1, contentEngagement: 76, featureRequests: 2 },
                    growth: { newUsersAdded: 10, hiringActivity: 13, fundingNews: 60, leadershipChanges: 25 },
                    timing: { renewalWindow: 76, usageMaturity: 73 }
                },
                pipelineValue: 31000,
                recommendedProduct: "Compensation Management"
            },
            // Lisa Rodriguez's accounts (4 accounts)
            {
                name: "Growth Dynamics",
                ssm: "Lisa Rodriguez",
                industry: "Manufacturing",
                employees: 320,
                signals: {
                    account: { licenseUtilization: 92, supportTicketVolume: 1, userLoginFrequency: 88, trainingCompletion: 85 },
                    contact: { communicationEngagement: 78, demoRequests: 2, contentEngagement: 82, featureRequests: 1 },
                    growth: { newUsersAdded: 12, hiringActivity: 18, fundingNews: 70, leadershipChanges: 80 },
                    timing: { renewalWindow: 75, usageMaturity: 88 }
                },
                pipelineValue: 32000,
                recommendedProduct: "Personio Payroll"
            },
            {
                name: "Manufacturing Plus",
                ssm: "Lisa Rodriguez",
                industry: "Manufacturing",
                employees: 245,
                signals: {
                    account: { licenseUtilization: 78, supportTicketVolume: 3, userLoginFrequency: 85, trainingCompletion: 76 },
                    contact: { communicationEngagement: 82, demoRequests: 1, contentEngagement: 77, featureRequests: 2 },
                    growth: { newUsersAdded: 11, hiringActivity: 14, fundingNews: 75, leadershipChanges: 25 },
                    timing: { renewalWindow: 92, usageMaturity: 79 }
                },
                pipelineValue: 34000,
                recommendedProduct: "Personio Payroll"
            },
            {
                name: "Industrial Solutions",
                ssm: "Lisa Rodriguez",
                industry: "Manufacturing",
                employees: 198,
                signals: {
                    account: { licenseUtilization: 69, supportTicketVolume: 6, userLoginFrequency: 72, trainingCompletion: 65 },
                    contact: { communicationEngagement: 65, demoRequests: 1, contentEngagement: 68, featureRequests: 1 },
                    growth: { newUsersAdded: 7, hiringActivity: 11, fundingNews: 25, leadershipChanges: 25 },
                    timing: { renewalWindow: 72, usageMaturity: 67 }
                },
                pipelineValue: 22000,
                recommendedProduct: "Performance Management"
            },
            {
                name: "Consulting Edge",
                ssm: "Lisa Rodriguez",
                industry: "Consulting",
                employees: 195,
                signals: {
                    account: { licenseUtilization: 73, supportTicketVolume: 5, userLoginFrequency: 79, trainingCompletion: 68 },
                    contact: { communicationEngagement: 76, demoRequests: 2, contentEngagement: 81, featureRequests: 1 },
                    growth: { newUsersAdded: 9, hiringActivity: 18, fundingNews: 25, leadershipChanges: 75 },
                    timing: { renewalWindow: 78, usageMaturity: 74 }
                },
                pipelineValue: 26000,
                recommendedProduct: "Talent Management"
            },
            // Emma Park's accounts (2 accounts)
            {
                name: "Digital Innovations",
                ssm: "Emma Park",
                industry: "Consulting",
                employees: 180,
                signals: {
                    account: { licenseUtilization: 75, supportTicketVolume: 4, userLoginFrequency: 82, trainingCompletion: 70 },
                    contact: { communicationEngagement: 88, demoRequests: 1, contentEngagement: 79, featureRequests: 2 },
                    growth: { newUsersAdded: 8, hiringActivity: 12, fundingNews: 65, leadershipChanges: 85 },
                    timing: { renewalWindow: 85, usageMaturity: 80 }
                },
                pipelineValue: 28000,
                recommendedProduct: "Recruiting - Medium"
            },
            {
                name: "Healthcare Innovators",
                ssm: "Emma Park",
                industry: "Healthcare",
                employees: 312,
                signals: {
                    account: { licenseUtilization: 52, supportTicketVolume: 9, userLoginFrequency: 67, trainingCompletion: 58 },
                    contact: { communicationEngagement: 48, demoRequests: 0, contentEngagement: 45, featureRequests: 1 },
                    growth: { newUsersAdded: 5, hiringActivity: 8, fundingNews: 40, leadershipChanges: 25 },
                    timing: { renewalWindow: 45, usageMaturity: 42 }
                },
                pipelineValue: 12000,
                recommendedProduct: "Core HR"
            },
            // Marcus Chen's accounts (2 accounts)
            {
                name: "Scale Ventures",
                ssm: "Marcus Chen",
                industry: "Fintech",
                employees: 125,
                signals: {
                    account: { licenseUtilization: 68, supportTicketVolume: 8, userLoginFrequency: 76, trainingCompletion: 82 },
                    contact: { communicationEngagement: 71, demoRequests: 1, contentEngagement: 85, featureRequests: 1 },
                    growth: { newUsersAdded: 15, hiringActivity: 20, fundingNews: 95, leadershipChanges: 70 },
                    timing: { renewalWindow: 65, usageMaturity: 75 }
                },
                pipelineValue: 19000,
                recommendedProduct: "Compensation Management"
            },
            {
                name: "MedTech Innovations",
                ssm: "Marcus Chen",
                industry: "Healthcare",
                employees: 289,
                signals: {
                    account: { licenseUtilization: 48, supportTicketVolume: 11, userLoginFrequency: 62, trainingCompletion: 51 },
                    contact: { communicationEngagement: 44, demoRequests: 0, contentEngagement: 41, featureRequests: 0 },
                    growth: { newUsersAdded: 4, hiringActivity: 6, fundingNews: 35, leadershipChanges: 25 },
                    timing: { renewalWindow: 38, usageMaturity: 36 }
                },
                pipelineValue: 9500,
                recommendedProduct: "Employee Surveys"
            },
            // David Kumar's accounts (1 account - lowest capacity)
            {
                name: "Alpine Systems",
                ssm: "David Kumar",
                industry: "Healthcare",
                employees: 275,
                signals: {
                    account: { licenseUtilization: 45, supportTicketVolume: 12, userLoginFrequency: 65, trainingCompletion: 45 },
                    contact: { communicationEngagement: 42, demoRequests: 0, contentEngagement: 38, featureRequests: 0 },
                    growth: { newUsersAdded: 3, hiringActivity: 4, fundingNews: 30, leadershipChanges: 25 },
                    timing: { renewalWindow: 40, usageMaturity: 30 }
                },
                pipelineValue: 8000,
                recommendedProduct: "Surveys"
            }
        ];

        // Updated scoring functions using new 4-band model
        function getLicenseUtilizationScore(value) {
            if (value >= 76) return 100;
            if (value >= 51) return 75;
            if (value >= 26) return 50;
            return 25;
        }

        function getSupportTicketScore(value) {
            if (value <= 3) return 100;
            if (value <= 6) return 75;
            if (value <= 9) return 50;
            return 25;
        }

        function getLoginFrequencyScore(value) {
            if (value >= 76) return 100;
            if (value >= 51) return 75;
            if (value >= 26) return 50;
            return 25;
        }

        function getTrainingCompletionScore(value) {
            if (value >= 76) return 100;
            if (value >= 51) return 75;
            if (value >= 26) return 50;
            return 25;
        }

        function getCommunicationEngagementScore(value) {
            if (value >= 76) return 100;
            if (value >= 51) return 75;
            if (value >= 26) return 50;
            return 25;
        }

        function getDemoRequestScore(value) {
            if (value >= 3) return 100;
            if (value >= 2) return 75;
            if (value >= 1) return 50;
            return 25;
        }

        function getContentEngagementScore(value) {
            if (value >= 76) return 100;
            if (value >= 51) return 75;
            if (value >= 26) return 50;
            return 25;
        }

        function getFeatureRequestScore(value) {
            if (value >= 3) return 100;
            if (value >= 2) return 75;
            if (value >= 1) return 50;
            return 25;
        }

        function getNewUsersScore(value) {
            if (value >= 16) return 100;
            if (value >= 11) return 75;
            if (value >= 6) return 50;
            return 25;
        }

        function getHiringActivityScore(value) {
            if (value >= 16) return 100;
            if (value >= 11) return 75;
            if (value >= 6) return 50;
            return 25;
        }

        function getFundingNewsScore(value) {
            return value >= 75 ? 100 : 25;
        }

        function getLeadershipChangeScore(value) {
            return value >= 75 ? 100 : 25;
        }

        function getRenewalWindowScore(value) {
            if (value >= 90) return 100;
            if (value >= 75) return 75;
            if (value >= 50) return 50;
            return 25;
        }

        function getUsageMaturityScore(value) {
            if (value >= 76) return 100;
            if (value >= 51) return 75;
            if (value >= 26) return 50;
            return 25;
        }

        // Calculate expansion score using new model
        function calculateScore(signals) {
            const accountScore = (
                getLicenseUtilizationScore(signals.account.licenseUtilization) +
                getSupportTicketScore(signals.account.supportTicketVolume) +
                getLoginFrequencyScore(signals.account.userLoginFrequency) +
                getTrainingCompletionScore(signals.account.trainingCompletion)
            ) / 4;
            
            const contactScore = (
                getCommunicationEngagementScore(signals.contact.communicationEngagement) +
                getDemoRequestScore(signals.contact.demoRequests) +
                getContentEngagementScore(signals.contact.contentEngagement) +
                getFeatureRequestScore(signals.contact.featureRequests)
            ) / 4;
            
            const growthScore = (
                getNewUsersScore(signals.growth.newUsersAdded) +
                getHiringActivityScore(signals.growth.hiringActivity) +
                getFundingNewsScore(signals.growth.fundingNews) +
                getLeadershipChangeScore(signals.growth.leadershipChanges)
            ) / 4;
            
            // Timing Signals (25% weight) - 2 signals
            const timingScore = (
                getRenewalWindowScore(signals.timing.renewalWindow) +
                getUsageMaturityScore(signals.timing.usageMaturity)
            ) / 2;
            
            return Math.round((accountScore + contactScore + growthScore + timingScore) / 4);
        }

        // Add calculated scores to all accounts
        teamAccounts.forEach(account => {
            account.expansionScore = calculateScore(account.signals);
        });

        // Filter high potential accounts (score >= 76)
        let filteredHighPotentialAccounts = teamAccounts.filter(account => account.expansionScore >= 76);

        function renderOpportunities() {
            const sorted = [...filteredHighPotentialAccounts].sort((a, b) => b.expansionScore - a.expansionScore);
            
            const html = sorted.map(account => `
                <div class="opportunity-item">
                    <div class="opportunity-info">
                        <h4>${account.name}</h4>
                        <p>${account.ssm} ‚Ä¢ ${account.recommendedProduct}</p>
                    </div>
                    <div class="opportunity-value">
                        <div class="score">${account.expansionScore}</div>
                        <div class="amount">Potential Value: ‚Ç¨${(account.pipelineValue / 1000).toFixed(0)}K</div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('opportunitiesList').innerHTML = html;
        }

        function renderCoachingAlerts() {
            // Calculate team averages for coaching insights
            const teamAvg = {
                licenseUtilization: Math.round(teamAccounts.reduce((sum, acc) => sum + acc.signals.account.licenseUtilization, 0) / teamAccounts.length),
                communicationEngagement: Math.round(teamAccounts.reduce((sum, acc) => sum + acc.signals.contact.communicationEngagement, 0) / teamAccounts.length),
                hiringActivity: Math.round(teamAccounts.reduce((sum, acc) => sum + acc.signals.growth.hiringActivity, 0) / teamAccounts.length)
            };

            const alerts = [
                {
                    title: "David Kumar - Licence Utilisation",
                    description: `Licence Utilisation ${teamAvg.licenseUtilization - 45}% below team average (${teamAvg.licenseUtilization}%)`
                },
                {
                    title: "Marcus Chen - Communication Engagement",
                    description: `Communication Engagement ${teamAvg.communicationEngagement - 71}% below team average (${teamAvg.communicationEngagement}%)`
                },
                {
                    title: "Emma Park - Hiring Activity",
                    description: `Hiring Activity ${teamAvg.hiringActivity - 12}% below team average (${teamAvg.hiringActivity}%)`
                }
            ];

            const html = alerts.map(alert => `
                <div class="coaching-alert">
                    <h4>${alert.title}</h4>
                    <p>${alert.description}</p>
                </div>
            `).join('');
            
            document.getElementById('coachingAlerts').innerHTML = html;
        }

        function renderTeamCapacity() {
            const ssmCapacity = {};
            teamAccounts.forEach(account => {
                if (account.expansionScore >= 76) {
                    ssmCapacity[account.ssm] = (ssmCapacity[account.ssm] || 0) + 1;
                }
            });

            const html = Object.entries(ssmCapacity).map(([ssm, count]) => `
                <tr>
                    <td>${ssm}</td>
                    <td>${count}</td>
                </tr>
            `).join('');
            
            document.getElementById('teamCapacityTable').innerHTML = html;

            // Capacity analysis with realistic numbers
            const maxCapacity = Math.max(...Object.values(ssmCapacity));
            const minCapacity = Math.min(...Object.values(ssmCapacity));
            const maxSSM = Object.keys(ssmCapacity).find(key => ssmCapacity[key] === maxCapacity);
            const minSSM = Object.keys(ssmCapacity).find(key => ssmCapacity[key] === minCapacity);
            
            document.getElementById('capacityAnalysis').textContent = 
                `${maxSSM} at max capacity (${maxCapacity}), ${minSSM} has room for ${maxCapacity - minCapacity} more`;
        }

        function renderRecentAlerts() {
            const alerts = [
                {
                    icon: 'üî•',
                    title: 'TechCorp Solutions ‚Üí High Potential (87)',
                    description: 'Moved to high potential status - Sarah Johnson notified'
                },
                {
                    icon: 'üìà',
                    title: 'Growth Dynamics ‚Üí Trending (84)',
                    description: 'Strong Growth Capacity signals spike - Lisa Rodriguez notified'
                },
                {
                    icon: '‚ö†Ô∏è',
                    title: 'Alpine Systems ‚Üí Declining (43)',
                    description: 'Account signals dropping - David Kumar notified'
                },
                {
                    icon: 'üéØ',
                    title: 'Digital Innovations ‚Üí Contact Boost',
                    description: 'Communication engagement up 15pts - Emma Park notified'
                }
            ];

            const html = alerts.map(alert => `
                <div class="alert-item">
                    <div class="alert-icon">${alert.icon}</div>
                    <div class="alert-content">
                        <h4>${alert.title}</h4>
                        <p>${alert.description}</p>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('recentAlerts').innerHTML = html;
        }

        function renderConversionRates() {
            const conversionRates = [
                { name: "Sarah Johnson", rate: 89 },
                { name: "Emma Park", rate: 84 },
                { name: "Lisa Rodriguez", rate: 78 },
                { name: "Marcus Chen", rate: 71 },
                { name: "David Kumar", rate: 63 }
            ];

            const html = conversionRates.map(rep => `
                <div class="conversion-item">
                    <div class="conversion-rep">${rep.name}</div>
                    <div class="conversion-rate">${rep.rate}%</div>
                </div>
            `).join('');
            
            document.getElementById('conversionRates').innerHTML = html;
        }

        function updateTeamOverview() {
            const allHighPotentialAccounts = teamAccounts.filter(account => account.expansionScore >= 76);
            document.getElementById('highPotentialCount').textContent = allHighPotentialAccounts.length;
            document.getElementById('potentialPipelineValue').textContent = Math.round(allHighPotentialAccounts.reduce((sum, acc) => sum + acc.pipelineValue, 0) / 1000);
        }

        function filterOpportunities() {
            const select = document.getElementById('repSelect');
            const selectedRep = select.value;
            
            const allHighPotentialAccounts = teamAccounts.filter(account => account.expansionScore >= 76);
            
            if (selectedRep === 'all') {
                filteredHighPotentialAccounts = allHighPotentialAccounts;
            } else {
                // Map dropdown values to SSM names
                const ssmMap = {
                    'sarah': 'Sarah Johnson',
                    'lisa': 'Lisa Rodriguez', 
                    'emma': 'Emma Park',
                    'marcus': 'Marcus Chen',
                    'david': 'David Kumar'
                };
                
                const ssmName = ssmMap[selectedRep];
                filteredHighPotentialAccounts = allHighPotentialAccounts.filter(account => account.ssm === ssmName);
            }
            
            renderOpportunities();
        }

        // Initialize dashboard
        renderOpportunities();
        renderCoachingAlerts();
        renderTeamCapacity();
        renderRecentAlerts();
        renderConversionRates();
        updateTeamOverview();
    </script>
</body>
</html>